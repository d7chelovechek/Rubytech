# Документация

Коннектор для системы управления учетными данными. Текущая его версия подразумевает получение данных из удаленного источника и архивацию валидных данных в Zip архив.

## Поставщик данных

Для получения данных из удаленного источника используется RestDataProvider из Rubytech.Providers. 

Под капотом поставщик использует обертку над HttpClient в виде RestClient из Rubytech.Network.
Для получение данных были созданы отдельные модели. После их получение, используя AutoMapper, происходит маппинг из DTO в строготипизированные модели, представленные в ТЗ.

Взаимодействие с данным поставщиком в коннекторе происходит через интерфейс IDataProvider. В случае необходимости переключения на другого поставщика данных, необходимо реализовать данный интерфейс.

## Валидация

Для валидации коллекций подразделений и сотрудников были созданы методы расширения.

## Архиватор данных

Для архивации данных используется ZipDataArchiver из Rubytech.Archivers. 

Под капотом архиватор использует ZipArchive и самописный поставщик времени.

Взаимодействие с данным архиватором в коннекторе происходит через интерфейс IDataArchiver. В случае необходимости переключения на другого архиватора данных, необходимо реализовать данный интерфейс.

## Поставщик времени

Для получения даты и времени в формате ISO 8601 используется MoscowTimeProvider из Rubytech.TimeProviders.

Под капотом используется системный TimeProvider и прибавление к его GetUtcNow() времени 3-х часов.

Взаимодействие с данным поставщиком в архиваторе происходит через интерфейс ITimeProvider. В случае необходимости переключения на другого поставщика времени, необходимо реализовать данный интерфейс.

## Коннектор

Основная точка инициализации коннектора находится в методе InitializeAsync, принимающего реализации поставщика (IDataProvider) и архиватора (IDataArchiver) данных.

В случае необходимости переключения на других поставщиков и архиваторов данных, необходимо реализовать их интерфейсы, а также создать новый конструктор в коннекторе, в котором будут инициализированы поставщик и архиватор данных,а после вызван метод InitializeAsync.
